<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Disguised sequences (II)</title>
    <link rel="stylesheet" media="screen" href="css/style.css">
</head>
<body>
    <div id="app">
        <div class="w-full" id="shell">
            <main id="shell_content">
                <div class="w-full mt-2">
                    <h2>Disguised sequences (II)</h2>
                    <h2>Points: 6 kyu</h2>
                    <a href="https://www.codewars.com/kata/56fe17fcc25bf3e19a000292"><h2>Kata ID: 56fe17fcc25bf3e19a000292</h2></a>
                    <div class="w-full panel bg-ui-section">
                        <div class="markdown prose max-w-5xl mx-auto" id="description">
                            <p>Let us define two sums <code>v(n, p)</code> and <code>u(n, p)</code>:</p>
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>v</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>k</mi></msup><mo>×</mo><mi>p</mi><mo>×</mo><msup><mn>4</mn><mrow><mi>n</mi><mo>−</mo><mi>k</mi></mrow></msup><mo>×</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mrow><mn>2</mn><mi>n</mi><mo>−</mo><mi>k</mi></mrow><mi>k</mi></mfrac><mo fence="true">)</mo></mrow></mrow>v(n,p) = \sum_{k=0}^n (-1)^k \times p \times 4^{n-k} \times {2n - k \choose k}</math></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span style="margin-right:0.03588em;" class="mord mathnormal">v</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span style="margin-right:0.16666666666666666em;" class="mspace"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span style="margin-right:0.2777777777777778em;" class="mspace"></span><span class="mrel">=</span><span style="margin-right:0.2777777777777778em;" class="mspace"></span></span><span class="base"><span style="height:1.148818em;vertical-align:-0.29971000000000003em;" class="strut"></span><span class="mop"><span style="position:relative;top:-0.0000050000000000050004em;" class="mop op-symbol small-op">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.804292em;" class="vlist"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.29971000000000003em;" class="vlist"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span style="height:0.849108em;" class="vlist"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;" class="mspace"></span><span class="mbin">×</span><span style="margin-right:0.2222222222222222em;" class="mspace"></span></span><span class="base"><span style="height:0.7777700000000001em;vertical-align:-0.19444em;" class="strut"></span><span class="mord mathnormal">p</span><span style="margin-right:0.2222222222222222em;" class="mspace"></span><span class="mbin">×</span><span style="margin-right:0.2222222222222222em;" class="mspace"></span></span><span class="base"><span style="height:0.9324379999999999em;vertical-align:-0.08333em;" class="strut"></span><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span style="height:0.8491079999999999em;" class="vlist"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span></span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;" class="mspace"></span><span class="mbin">×</span><span style="margin-right:0.2222222222222222em;" class="mspace"></span></span><span class="base"><span style="height:1.2801179999999999em;vertical-align:-0.35001em;" class="strut"></span><span class="mord"><span class="mord"><span style="top:0em;" class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.9301079999999998em;" class="vlist"><span style="top:-2.3550000000000004em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span></span></span></span><span style="top:-3.144em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.345em;" class="vlist"><span></span></span></span></span></span><span style="top:0em;" class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span></span></span></span></span></div><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>u</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>k</mi></msup><mo>×</mo><mi>p</mi><mo>×</mo><msup><mn>4</mn><mrow><mi>n</mi><mo>−</mo><mi>k</mi></mrow></msup><mo>×</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mrow><mn>2</mn><mi>n</mi><mo>−</mo><mi>k</mi><mo>+</mo><mn>1</mn></mrow><mi>k</mi></mfrac><mo fence="true">)</mo></mrow></mrow>u(n,p) = \sum_{k=0}^n (-1)^k \times p \times 4^{n-k} \times {2n - k + 1 \choose k}</math></span><span aria-hidden="true" class="katex-html"><span class="base"><span style="height:1em;vertical-align:-0.25em;" class="strut"></span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span style="margin-right:0.16666666666666666em;" class="mspace"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span style="margin-right:0.2777777777777778em;" class="mspace"></span><span class="mrel">=</span><span style="margin-right:0.2777777777777778em;" class="mspace"></span></span><span class="base"><span style="height:1.148818em;vertical-align:-0.29971000000000003em;" class="strut"></span><span class="mop"><span style="position:relative;top:-0.0000050000000000050004em;" class="mop op-symbol small-op">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.804292em;" class="vlist"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.29971000000000003em;" class="vlist"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span style="height:0.849108em;" class="vlist"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;" class="mspace"></span><span class="mbin">×</span><span style="margin-right:0.2222222222222222em;" class="mspace"></span></span><span class="base"><span style="height:0.7777700000000001em;vertical-align:-0.19444em;" class="strut"></span><span class="mord mathnormal">p</span><span style="margin-right:0.2222222222222222em;" class="mspace"></span><span class="mbin">×</span><span style="margin-right:0.2222222222222222em;" class="mspace"></span></span><span class="base"><span style="height:0.9324379999999999em;vertical-align:-0.08333em;" class="strut"></span><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span style="height:0.8491079999999999em;" class="vlist"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span></span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;" class="mspace"></span><span class="mbin">×</span><span style="margin-right:0.2222222222222222em;" class="mspace"></span></span><span class="base"><span style="height:1.2801179999999999em;vertical-align:-0.35001em;" class="strut"></span><span class="mord"><span class="mord"><span style="top:0em;" class="mopen delimcenter"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span style="height:0.9301079999999998em;" class="vlist"><span style="top:-2.3550000000000004em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span></span></span></span><span style="top:-3.144em;"><span style="height:2.7em;" class="pstrut"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span style="margin-right:0.03148em;" class="mord mathnormal mtight">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span style="height:0.345em;" class="vlist"><span></span></span></span></span></span><span style="top:0em;" class="mclose delimcenter"><span class="delimsizing size1">)</span></span></span></span></span></span></span></div><h4 id="task">Task:</h4>
<ul>
<li><ol>
<li>Calculate <code>v(n, p)</code> and <code>u(n, p)</code> with two brute-force functions <code>v1(n, p)</code> and <code>u1(n, p)</code>.</li>
</ol>
</li>
<li><ol start="2">
<li>Try <code>v1(n, p)</code> and <code>u1(n, p)</code> for small values of <code>n</code> and <code>p</code> and guess the results of <code>u(n, p)</code> and <code>v(n, p)</code></li>
</ol>
</li>
<li><ol start="3">
<li>Using 2) write <code>v_eff(n, p)</code> and <code>u_eff(n, p)</code> (or vEff(n, p) and uEff(n, p) or v-eff(n, p) and u-eff(n, p)) to efficiently calculate <code>v</code> and <code>u</code> for bigger values of <code>n</code> and <code>p</code>.</li>
</ol>
</li>
<li><ul>
<li>(This third part is not tested in   JS, CS, TS, C++, C, PHP, Crystal, Rust, Swift, R, Nim, Fortran, NASM, Haxe, Pascal, Lua since there you don't have big integers to control your guess in part 2. See note below for "Shell").</li>
</ul>
</li>
</ul>
<h4 id="examples">Examples:</h4>
<pre><code>v1(12, 70) --&gt; 1750
u1(13, 18) --&gt; 252
</code></pre>
<h4 id="extra-points-">Extra points:-)</h4>
<p> For the mathy ones: find a relation between <code>v(n, p)</code>, <code>v(n-1, p)</code> and <code>u(n-1, p)</code> :-)</p>
<h4 id="notes">Notes</h4>
<ul>
<li>Shell: only <code>v1(n, p)</code>is tested (use the solution you find for <code>v_eff(n, p)</code>.</li>
<li>Forth: only ueff and veff are tested with small numbers.</li>
<li>Factor: only ueff and veff are tested</li>
<li>If you have found <code>u_eff(n, p)</code> and <code>v_eff(n, p)</code> you can use them to calculate <code>u(n, p)</code> and <code>v(n, p)</code>.</li>
<li>You could see: <a href="https://en.wikipedia.org/wiki/Binomial_coefficient" target="_blank">https://en.wikipedia.org/wiki/Binomial_coefficient</a> for a refresh about <code>binomial coefficients</code>.</li>
</ul>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</body>
</html>
